<context>

    <sample>
        <item value="Кто такой Сысоев"/>
        <item value="Что такое СысоевФМ"/>
    </sample>

    <input pattern="* (привет*|здравствуй*) *">
        <output if="full($UserName)">
            <item value="Привет, $UserName! Рад снова видеть тебя!"/>
            <item value="Здравствуй, $UserName! Я уже успел соскучиться..."/>
        </output>

        <context if="empty($UserName)" id="name">
            <output value="Привет! Меня зовут Саша! Я хорошо разбираюсь в в том, где можно вкусно поесть и хорошо выпить. Как тебя зовут?"/>

            <input pattern="$Text">
                <var name="UserName" value="cap($Text)" scope="user"/>
                <output value="Приятно познакомиться, $UserName! Что хочешь выпить?"/>
                <context/>
            </input>
        </context>
    </input>

    <input pattern="* пока *">
        <var name="end_session" value="javascript: true"/>
        <output value="Ну пока, незнакомец!" if="empty($UserName)"/>
        <output value="Пока-пока, $UserName!"/>
    </input>

      <input pattern="* (куда пойти выпить пиво*|хочу выпить пиво*|*пить пиво*) *">
          <output value="Я подобрала вот эти места для тебя:"/>
      </input>
    <input pattern="[* (куда пойти|хочу) пить пиво*] $Text">
        <context id="name" if="empty($UserName)"/>

        <context id="wiki" if="full($UserName)">
            <output value="Я подобрала вот эти места для тебя:"/>
          
            <input pattern="* (еще|другой вариант) *"/>

            <sample value="Другой вариант"/>
        </context>


    </input>

</context>
